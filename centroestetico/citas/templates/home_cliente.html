{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="container mt-5">
    <h2>Mis Citas</h2>
    {% if citas %}
        <ul class="list-group">
        {% for cita in citas %}
            <li class="list-group-item">
                <h5>{{ cita.servicio.nombre }} con {{ cita.empleado.nombre }}</h5>
                <p>Fecha: {{ cita.fecha|date:"d/m/Y" }} a las {{ cita.hora_inicio|time:"H:i" }}</p>
                <p>Estado: {{ cita.get_estado_display }}</p>
                {% if cita.es_cancelable %}
                    <a href="{% url 'cancelar_cita' cita.id %}" class="btn btn-danger btn-sm">Cancelar Cita</a>
                {% endif %}
            </li>
        {% endfor %}
        </ul>
    {% else %}
        <p>No tienes citas programadas.</p>
    {% endif %}
    <div class="text-center mt-4">
        <a href="{% url 'agendar_cita' %}" class="btn btn-primary btn-lg">Agendar Nueva Cita</a>
    </div>
</div>
{% endblock %}